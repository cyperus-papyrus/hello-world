{% extends "layout.html" %}
{% block body %}
<p>• <a href="/list/0">К списку книг</a> • <a href="/">На стартовую страницу</a> • <br />
    <table align="center">
    <tr><td>№ страницы: </td><td>Несделанных карточек:</td></tr>
    {% for book in books %}
        <tr><td><a href="/list/{{ book[1] }}">{{ book[1] }}</a></td><td>{{ book[0] }}</td></tr>
    {% endfor %}
    </table>
<br /><br />
 <script src="https://www.google.com/jsapi"></script>
  <script>
   google.load("visualization", "1", {packages:["corechart"]});
   google.setOnLoadCallback(drawChart);
   function drawChart() {
    var data = google.visualization.arrayToDataTable([
     ['Номер страницы', 'Количество несделанных карточек'],
     {% for book in books %}
     ['{{ book[1] }}', {{ book[0] }}],
     {% endfor %}
     ['48', 0]
    ]);
    var options = {
     hAxis: {title: 'Номер страницы'},
     vAxis: {title: 'Число несделанных карточек'}
    };
    var chart = new google.visualization.ColumnChart(document.getElementById('oil'));
    chart.draw(data, options);
   }
  </script>
  <div id="oil" align="center" style="width: 100%; height: 400px;"></div>
{% endblock %}